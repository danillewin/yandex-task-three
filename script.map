{"version":3,"file":"script.min.js","sources":["script/app/app.js"],"names":["app","vm","window","AudioContext","webkitAudioContext","e","alert","TrackList","self","this","tracks","ko","observableArray","initDragDrop","prototype","addTrack","file","tags","track","image","imgUrl","base64String","reader","FileReader","context","ID3","loadTags","getAllTags","picture","i","data","length","String","fromCharCode","format","btoa","artist","title","album","year","lyrics","onload","decodeAudioData","result","audio","push","readAsArrayBuffer","dataReader","FileAPIReader","document","getElementsByClassName","addEventListener","classList","add","remove","preventDefault","key","dataTransfer","files","dropEffect","applyBindings","Player","gainNode","createGain","analyser","createAnalyser","fftSize","canvasCtx","getContext","currentTime","observable","playing","volume","volumeBuffer","currentProgress","currentDuration","currentStartTime","currentProgressTime","repeat","shuffle","equalizer","currentTrack","chronometer","presets","jazz","normal","rock","pop","subscribe","value","gain","resolveVolumeClass","computed","bindProgressBar","progress","wrapper","Math","floor","offsetX","offsetWidth","setTime","playPause","pause","play","source","createBufferSource","buffer","connect","destination","duration","start","onended","onEnd","bind","startChronometer","visualize","stop","killChronometer","next","index","indexOf","setTrack","prev","percent","time","bufferLength","frequencyBinCount","dataArray","Uint8Array","WIDTH","canvas","width","HEIGHT","height","draw","barHeight","drawVisual","barWidth","x","requestAnimationFrame","getByteFrequencyData","clearRect","fillStyle","fillRect","toggleMute","toggleRepeat","setInterval","current","clearInterval"],"mappings":"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"}