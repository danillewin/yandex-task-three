{"version":3,"file":"script.min.js","sources":["script/app/app.js"],"names":["app","vm","window","AudioContext","webkitAudioContext","e","alert","TrackList","self","this","tracks","ko","observableArray","initDragDrop","prototype","addTrack","file","tags","track","image","imgUrl","base64String","reader","FileReader","context","ID3","loadTags","getAllTags","picture","i","data","length","String","fromCharCode","format","btoa","artist","title","album","year","lyrics","onload","decodeAudioData","result","audio","push","readAsArrayBuffer","dataReader","FileAPIReader","document","getElementsByClassName","addEventListener","classList","add","remove","preventDefault","key","dataTransfer","files","dropEffect","applyBindings","Player","gainNode","createGain","analyser","createAnalyser","fftSize","canvasCtx","getContext","currentTime","observable","playing","volume","volumeBuffer","repeat","shuffle","equalizer","currentTrack","presets","jazz","normal","rock","pop","subscribe","value","gain","resolveVolumeClass","computed","playPause","pause","play","source","createBufferSource","buffer","connect","destination","start","visualize","stop","next","index","indexOf","setTrack","prev","bufferLength","frequencyBinCount","dataArray","Uint8Array","WIDTH","canvas","width","HEIGHT","height","draw","barHeight","drawVisual","barWidth","Math","floor","x","requestAnimationFrame","getByteFrequencyData","clearRect","fillStyle","fillRect","toggleMute","toggleRepeat"],"mappings":"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"}