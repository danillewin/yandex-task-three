{"version":3,"file":"script.min.js","sources":["script/app/app.js"],"names":["app","vm","window","AudioContext","webkitAudioContext","e","alert","TrackList","self","this","tracks","ko","observableArray","initDragDrop","prototype","addTrack","file","tags","track","image","imgUrl","base64String","reader","FileReader","context","ID3","loadTags","getAllTags","picture","i","data","length","String","fromCharCode","format","btoa","artist","title","album","year","lyrics","onload","decodeAudioData","result","audio","push","readAsArrayBuffer","dataReader","FileAPIReader","document","getElementsByClassName","addEventListener","classList","add","remove","preventDefault","key","dataTransfer","files","dropEffect","applyBindings","Player","gainNode","createGain","analyser","createAnalyser","fftSize","canvasCtx","getContext","currentTime","observable","playing","volume","volumeBuffer","currentProgress","currentDuration","currentStartTime","currentProgressTime","repeat","shuffle","equalizer","currentTrack","chronometer","presets","jazz","normal","rock","pop","subscribe","value","gain","resolveVolumeClass","computed","bindProgressBar","progress","wrapper","inner","input","style","width","offsetX","Math","floor","offsetWidth","playPause","pause","play","source","createBufferSource","buffer","connect","destination","duration","start","startChronometer","visualize","stop","killChronometer","next","index","indexOf","setTrack","prev","bufferLength","frequencyBinCount","dataArray","Uint8Array","WIDTH","canvas","HEIGHT","height","draw","barHeight","drawVisual","barWidth","x","requestAnimationFrame","getByteFrequencyData","clearRect","fillStyle","fillRect","toggleMute","toggleRepeat","setInterval","current","clearInterval"],"mappings":"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"}